<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>blitzpython: LobbyHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>lobby_ajax</b>::<a class="el" href="classlobby__ajax_1_1_lobby_handler.html">LobbyHandler</a>
  </div>
</div>
<div class="contents">
<h1>LobbyHandler Class Reference</h1><!-- doxytag: class="lobby_ajax::LobbyHandler" --><!-- doxytag: inherits="ajax::AjaxHandler" --><div class="dynheader">
Inheritance diagram for LobbyHandler:</div>
<div class="dynsection">
 <div class="center">
  <img src="classlobby__ajax_1_1_lobby_handler.gif" usemap="#LobbyHandler_map" alt=""/>
  <map id="LobbyHandler_map" name="LobbyHandler_map">
<area href="classajax_1_1_ajax_handler.html" alt="AjaxHandler" shape="rect" coords="0,0,92,24"/>
</map>
 </div>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlobby__ajax_1_1_lobby_handler.html#ac44eccc1b744f90c7bad0fdf8f2d25a6">Get</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlobby__ajax_1_1_lobby_handler.html#a6d5f73924bc9dc2a60c68a920fa71bbd">Delete</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlobby__ajax_1_1_lobby_handler.html#aec3a049f0b816bd5d21b107f4317c78b">Post</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlobby__ajax_1_1_lobby_handler.html#adfc30f11064361a2fcc31da747002653">get_player_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlobby__ajax_1_1_lobby_handler.html#aff798823549dfd9fce843ea427d01b59">get_game_list</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment">Class implementing REST APIs for accessing the lobby data
</pre></div> 
<p>Definition at line <a class="el" href="lobby__ajax_8py_source.html#l00039">39</a> of file <a class="el" href="lobby__ajax_8py_source.html">lobby_ajax.py</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6d5f73924bc9dc2a60c68a920fa71bbd"></a><!-- doxytag: member="lobby_ajax::LobbyHandler::Delete" ref="a6d5f73924bc9dc2a60c68a920fa71bbd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Delete </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>user</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Removes the passed user from the lobby.
Format of URL is /lobby/&lt;user email&gt;
</pre></div> 
<p>Definition at line <a class="el" href="lobby__ajax_8py_source.html#l00102">102</a> of file <a class="el" href="lobby__ajax_8py_source.html">lobby_ajax.py</a>.</p>

</div>
</div>
<a class="anchor" id="ac44eccc1b744f90c7bad0fdf8f2d25a6"></a><!-- doxytag: member="lobby_ajax::LobbyHandler::Get" ref="ac44eccc1b744f90c7bad0fdf8f2d25a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Get </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>user</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Sends down a list of players and games for the lobby in json format.

The URL format is:
   GET /lobby/useremail/&lt;opt_msgid&gt;
   
Fetches a list of games for the passed user.

If the opt_msgid is present, we return a list of chats that were sent
after that msgid, otherwise the chat list will be empty

Response is a Javascript object with 4 attributes:
{
  'player_list': ["player 1", "player 2"...],  // string array

  'game_list': [
    {
     // See Game.to_dict() for information about the format of
     // each game
    },
    ...more games...
  ],

  'chat_list': {
    'msg_id': 12345,             // The msg_id to pass up on the next
                                 // update
    data: [
      { 'author': "player 1",    // Omitted if this is a system msg
        'data': "blah blah blah"
      },
      ...more chats...
    ]
  }
}

</pre></div> 
<p>Definition at line <a class="el" href="lobby__ajax_8py_source.html#l00043">43</a> of file <a class="el" href="lobby__ajax_8py_source.html">lobby_ajax.py</a>.</p>

</div>
</div>
<a class="anchor" id="aff798823549dfd9fce843ea427d01b59"></a><!-- doxytag: member="lobby_ajax::LobbyHandler::get_game_list" ref="aff798823549dfd9fce843ea427d01b59" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def get_game_list </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>user</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Get a list of dict objects corresponding to the active games.
The list includes a max of 50 games that match the following criteria:
1) status is GAME_STATUS_OPEN
2) status is GAME_STATUS_INVITED and the user is one of the players
3) status is GAME_STATUS_ACTIVE and the game is public *or* the user
   is one of the players.

The list is sorted to have the user's games at the top, followed by
open games, followed by public games, each section sorted to have
most recently modified games first
</pre></div> 
<p>Definition at line <a class="el" href="lobby__ajax_8py_source.html#l00152">152</a> of file <a class="el" href="lobby__ajax_8py_source.html">lobby_ajax.py</a>.</p>

</div>
</div>
<a class="anchor" id="adfc30f11064361a2fcc31da747002653"></a><!-- doxytag: member="lobby_ajax::LobbyHandler::get_player_list" ref="adfc30f11064361a2fcc31da747002653" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def get_player_list </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Get a list of strings representing all players in the lobby
</pre></div> 
<p>Definition at line <a class="el" href="lobby__ajax_8py_source.html#l00144">144</a> of file <a class="el" href="lobby__ajax_8py_source.html">lobby_ajax.py</a>.</p>

</div>
</div>
<a class="anchor" id="aec3a049f0b816bd5d21b107f4317c78b"></a><!-- doxytag: member="lobby_ajax::LobbyHandler::Post" ref="aec3a049f0b816bd5d21b107f4317c78b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Post </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>user</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Handles posting a chat to the lobby.
URL format is:
  /lobby_ajax/&lt;email&gt;/chat
</pre></div> 
<p>Definition at line <a class="el" href="lobby__ajax_8py_source.html#l00112">112</a> of file <a class="el" href="lobby__ajax_8py_source.html">lobby_ajax.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/root/google/blitzpython/<a class="el" href="lobby__ajax_8py_source.html">lobby_ajax.py</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Nov 2011 for blitzpython by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
