<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>shellgae: Session Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>shell</b>::<a class="el" href="classshell_1_1_session.html">Session</a>
  </div>
</div>
<div class="contents">
<h1>Session Class Reference</h1><!-- doxytag: class="shell::Session" --><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshell_1_1_session.html#a6bdaafea9076222f7d8e648468778a5c">set_global</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshell_1_1_session.html#af5d70d1c42d826bdc5515381f6356d84">remove_global</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshell_1_1_session.html#a8a7cdc02f049adb4e3a2c7a85fb25a48">globals_dict</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshell_1_1_session.html#a8eec4bd3975a2d3d419ef3739f9f4705">add_unpicklable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshell_1_1_session.html#a41b19e43295855b1efc73ec8533abda4">remove_unpicklable_name</a></td></tr>
<tr><td colspan="2"><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2a5a65cd995be8c7c13ff2afb8dcc8b"></a><!-- doxytag: member="shell::Session::global_names" ref="af2a5a65cd995be8c7c13ff2afb8dcc8b" args="" -->
tuple&nbsp;</td><td class="memItemRight" valign="bottom"><b>global_names</b> = db.ListProperty(db.Text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac07bf78e8cc06d24e06cca75dcc3ffdc"></a><!-- doxytag: member="shell::Session::globals" ref="ac07bf78e8cc06d24e06cca75dcc3ffdc" args="" -->
tuple&nbsp;</td><td class="memItemRight" valign="bottom"><b>globals</b> = db.ListProperty(db.Blob)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92fd4d502ebd91ad8924765672f2a945"></a><!-- doxytag: member="shell::Session::unpicklable_names" ref="a92fd4d502ebd91ad8924765672f2a945" args="" -->
tuple&nbsp;</td><td class="memItemRight" valign="bottom"><b>unpicklable_names</b> = db.ListProperty(db.Text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ce5c23a6041d6bb2cc8147b3aa789fd"></a><!-- doxytag: member="shell::Session::unpicklables" ref="a7ce5c23a6041d6bb2cc8147b3aa789fd" args="" -->
tuple&nbsp;</td><td class="memItemRight" valign="bottom"><b>unpicklables</b> = db.ListProperty(db.Text)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment">A shell session. Stores the session's globals.

Each session globals is stored in one of two places:

If the global is picklable, it's stored in the parallel globals and
global_names list properties. (They're parallel lists to work around the
unfortunate fact that the datastore can't store dictionaries natively.)

If the global is not picklable (e.g. modules, classes, and functions), or if
it was created by the same statement that created an unpicklable global,
it's not stored directly. Instead, the statement is stored in the
unpicklables list property. On each request, before executing the current
statement, the unpicklable statements are evaluated to recreate the
unpicklable globals.

The unpicklable_names property stores all of the names of globals that were
added by unpicklable statements. When we pickle and store the globals after
executing a statement, we skip the ones in unpicklable_names.

Using Text instead of string is an optimization. We don't query on any of
these properties, so they don't need to be indexed.
</pre></div> 
<p>Definition at line <a class="el" href="shell_8py_source.html#l00091">91</a> of file <a class="el" href="shell_8py_source.html">shell.py</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8eec4bd3975a2d3d419ef3739f9f4705"></a><!-- doxytag: member="shell::Session::add_unpicklable" ref="a8eec4bd3975a2d3d419ef3739f9f4705" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def add_unpicklable </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>names</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Adds a statement and list of names to the unpicklables.

Also removes the names from the globals.

Args:
  statement: string, the statement that created new unpicklable global(s).
  names: list of strings; the names of the globals created by the statement.
</pre></div> 
<p>Definition at line <a class="el" href="shell_8py_source.html#l00156">156</a> of file <a class="el" href="shell_8py_source.html">shell.py</a>.</p>

</div>
</div>
<a class="anchor" id="a8a7cdc02f049adb4e3a2c7a85fb25a48"></a><!-- doxytag: member="shell::Session::globals_dict" ref="a8a7cdc02f049adb4e3a2c7a85fb25a48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def globals_dict </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Returns a dictionary view of the globals.
</pre></div> 
<p>Definition at line <a class="el" href="shell_8py_source.html#l00150">150</a> of file <a class="el" href="shell_8py_source.html">shell.py</a>.</p>

</div>
</div>
<a class="anchor" id="af5d70d1c42d826bdc5515381f6356d84"></a><!-- doxytag: member="shell::Session::remove_global" ref="af5d70d1c42d826bdc5515381f6356d84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def remove_global </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Removes a global, if it exists.

Args:
  name: string, the name of the global to remove
</pre></div> 
<p>Definition at line <a class="el" href="shell_8py_source.html#l00139">139</a> of file <a class="el" href="shell_8py_source.html">shell.py</a>.</p>

</div>
</div>
<a class="anchor" id="a41b19e43295855b1efc73ec8533abda4"></a><!-- doxytag: member="shell::Session::remove_unpicklable_name" ref="a41b19e43295855b1efc73ec8533abda4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def remove_unpicklable_name </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Removes a name from the list of unpicklable names, if it exists.

Args:
  name: string, the name of the unpicklable global to remove
</pre></div> 
<p>Definition at line <a class="el" href="shell_8py_source.html#l00172">172</a> of file <a class="el" href="shell_8py_source.html">shell.py</a>.</p>

</div>
</div>
<a class="anchor" id="a6bdaafea9076222f7d8e648468778a5c"></a><!-- doxytag: member="shell::Session::set_global" ref="a6bdaafea9076222f7d8e648468778a5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def set_global </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Adds a global, or updates it if it already exists.

Also removes the global from the list of unpicklable names.

Args:
  name: the name of the global to remove
  value: any picklable value
</pre></div> 
<p>Definition at line <a class="el" href="shell_8py_source.html#l00119">119</a> of file <a class="el" href="shell_8py_source.html">shell.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/root/google/shellgae/<a class="el" href="shell_8py_source.html">shell.py</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Nov 2011 for shellgae by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
